<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_06) on Tue Jul 29 16:18:14 CEST 2008 -->
<TITLE>
ch.ethz.ee.tik.sop.pisalib.variator
</TITLE>

<META NAME="date" CONTENT="2008-07-29">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ch.ethz.ee.tik.sop.pisalib.variator";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../ch/ethz/ee/tik/sop/pisalib/variator/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;NEXT PACKAGE</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?ch/ethz/ee/tik/sop/pisalib/variator/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package ch.ethz.ee.tik.sop.pisalib.variator
</H2>
Provides a template for implementing a PISA variator, including an example for a Lotz2 variator.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../../../ch/ethz/ee/tik/sop/pisalib/variator/FileManager.html" title="class in ch.ethz.ee.tik.sop.pisalib.variator">FileManager</A></B></TD>
<TD>Handles access to the communication files.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../../../ch/ethz/ee/tik/sop/pisalib/variator/Individual.html" title="class in ch.ethz.ee.tik.sop.pisalib.variator">Individual</A></B></TD>
<TD>Specifies the problem-specific behavior of an individual.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../../../ch/ethz/ee/tik/sop/pisalib/variator/IndividualAbstract.html" title="class in ch.ethz.ee.tik.sop.pisalib.variator">IndividualAbstract</A></B></TD>
<TD>Defines the individuals of the global Population.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../../../ch/ethz/ee/tik/sop/pisalib/variator/Population.html" title="class in ch.ethz.ee.tik.sop.pisalib.variator">Population</A></B></TD>
<TD>Handles the problem-specific behavior of the global population.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../../../ch/ethz/ee/tik/sop/pisalib/variator/PopulationAbstract.html" title="class in ch.ethz.ee.tik.sop.pisalib.variator">PopulationAbstract</A></B></TD>
<TD>Handles the PISA-specific behavior of the global population.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../../../ch/ethz/ee/tik/sop/pisalib/variator/StateMachine.html" title="class in ch.ethz.ee.tik.sop.pisalib.variator">StateMachine</A></B></TD>
<TD>Handles the transitions between the states and defines the behavior in each state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../../../ch/ethz/ee/tik/sop/pisalib/variator/States.html" title="class in ch.ethz.ee.tik.sop.pisalib.variator">States</A></B></TD>
<TD>Contains the methods which are called in the different states of the <code>StateMachine</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../../../ch/ethz/ee/tik/sop/pisalib/variator/Variator.html" title="class in ch.ethz.ee.tik.sop.pisalib.variator">Variator</A></B></TD>
<TD>The main variator class.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package ch.ethz.ee.tik.sop.pisalib.variator Description
</H2>

<P>
Provides a template for implementing a PISA variator, including an example for a Lotz2 variator. The following section
explains how the example Lotz2 (leading ones trailing zeros) variator can be run and how a user can adapt it to fit its own
optimization problem.

<h3>The leading ones trailing zeros optimization problem (LOTZ)</h3>

The leading ones trailing zeros optimization problem is a very simple two-objective optimization problem without any practical relevance. It is solely used
to demonstrate how an evolutionary algorithm (EA) is able to solve an optimization problem.
<p>
The decision space representation of an LOTZ-individual is a simple 0/1-bitstring. There are two objectives which
have to be optimized: the number of leading ones (lo) and the number of trailing zeros (tz) in the bitstring.
<p>
Consider for example the following bitstring: "1 1 0 1 0 0 1". This bitstring has 2 leading ones and 0 trailing zeros.
More examples:

<p>

</table>

<table border=1 cellspacing=0 cellpadding=6>
<tr>
<td><b>bitstring</b>
<td><b>lo</b>
<td><b>tz</b>
<tr>
<td>
1 1 1 1 <br>
0 1 0 1<br>
1 0 0 0<br>
1 1 0 1<br>
0 1 0 0<br>
<td>
4<br>
0<br>
1<br>
2<br>
0<br>
<td>
0<br>
0<br>
3<br>
0<br>
2<br>

</table>

<p>

For a bitstring of length 4, the Pareto-optimal solutions are "1 1 1 1", "1 1 1 0", "1 1 0 0", "1 0 0 0" and "0 0 0 0". 


<h3>How to run the example Lotz2 variator</h3>

The example Lotz2 variator takes three arguments:

<ul>
<li>The path to the parameter file: e.g. "./param.txt". The parameter file contains the user-defined parameters. For the Lotz2 problem,
the following parameters can be specified: maximum_generations, recombination_probability, mutation_probability, bitflip_probability, seed, debug_print
and output_filename. These parameters all have default values, so it is ok to set the path to an empty file.
<li>the path to the communication files: e.g. "./PISA_". PISA appends the necessary endings for all communication files
to this name base.
<li>the polling interval in seconds: e.g. "1". Specifies the interval in which the state file is polled.
</ul>

As an evolutionary algorithm also needs a selector, you have to choose a selector and run it as well. The arguments are similar to those 
of the variator.

<h4>Step by step instructions</h4>

To be able to execute a PISA run, three things are needed: A variator, a selector and a communication directory. A good directory structure
to use could look like:

<p align="center">
<img border="0" src="file_structure.gif" height="383" alt="directory structure"/></p>


<ol>
<li> Get or create the parameter file of the variator. The Lotz2 variator package comes with a standard parameter file "lotz2_param.txt".
<li> Get or create the parameter file of the selector. Most selectors come with a default parameter file. Otherwise 
refer to the documentation of the corresponding selector.
<li> Create a directory where the communication files will be stored (e.g. "./PISACommunication/").
<li> Put the PISA configuration file into that communication files directory. The name of the configuration file
must comply with the chosen name base (e.g. "PISA_") and must end with "cfg". So in the example case, the file must be 
called "PISA_cfg" (without a ".txt" or similar endings). The communication file must look like this:

<code>
<p>
alpha 20
<br>
mu 20
<br>
lambda 20
<br>
dim 2
<p>
</code>

where the number behind the <code>alpha</code> is the number of individuals in the initial population, 
the number behind the <code>mu</code> is the number of parents which are selected by the selector,
the number behind the <code>lambda</code> is the number of offspring which are generated by the variator,
and the number behind  the <code> dim </code> is the number of objectives. For the Lotz2 problem, <code>mu</code> 
must be equal to <code>lambda</code> and the number of objectives is 2.
<li> Start the variator (this jar-file was compiled with java version 1.6.0_06):
<ul> 
<li> Windows/Linux: <code>java -jar lotz2.jar lotz2_param.txt ../PISACommunication/PISA_ 0.2</code>
<li> On Windows/Linux, you can also execute the <code>runLOTZ2.bat</code>/<code>runLOTZ2.sh</code> file, which contains the above command.
<li> To use a different version of java under Windows,
use:
<code>java -jar -version:1.6.0_06 lotz2.jar lotz2_param.txt ../PISACommunication/PISA_ 0.2</code>,
on Linux, use <code>java-1.6.0 -jar lotz2.jar lotz2_param.txt ../PISACommunication/PISA_ 0.2</code>.
Alternatively, you could recompile the jar-file from the source files.
<li> Note: If you don't have a JRE installed, you can download it from <a href="http://java.sun.com/javase/downloads/index.jsp">here</a>. 
</ul>
<li> Start the selector. Make sure that the second argument
(Communication file path) of both variator and selector point to the same directory:
<ul>
<li> Java: Similarily to the variator, use the command <code>java Selector ./param.txt ./PISACommunication/PISA_ 1</code>
or execute <code>selector.bat</code> (Windows) or <code>selector.sh</code> (Linux):
<li> C on Windows: <code>selector.exe selector_param.txt ../PISACommunication/PISA_ 0.2</code> or execute the corresponding <code>runSELECTOR.bat</code> file.
<li> C on Linux: <code>./Selector ./selector_param.txt ./PISACommunication/PISA_ 0.2</code> or execute the <code>runSELECTOR.sh</code> file, if available.
<li> Similaritly, you can use any other programming language that can read and write files.
</ul>
</ol>

<h3>How to adapt the example variator to a user-defined optimization problem</h3>

To adapt the variator to a user-defined problem, only the <code>Individual</code> and the <code>Population</code> classes have
to be adapted:

<h4>Individual.java</h4>
According to the abstract class <code>IndividualAbstract</code> that the <code>Individual</code> class is extending, the user needs
to implement two methods. The first method <code>eval</code> calculates the objective space values of the individual. To implement such a 
method, the user probably also needs to define a suitable decision space representation. The second method <code>copy</code> is a
simple method to generate a copy of the individual itself.

<h4>Population.java</h4>
According to the abstract class <code>PopulationAbstract</code> that the <code>Population</code> class is extending, the user needs to implement
the following 5 methods:

<ul>
<li> <code>initialize()</code>: Initializes the population with <code>alpha</code> inidviduals
<li> <code>performVariation(offspring)</code>: Variates the offspring (which at first are simple copies of the parents)
<li> <code>isFinished()</code>: Termination criterion like reaching a user-defined maximum number of generations
<li> <code>setNonfixedParam(paramName, paramValue)</code>: Sets the user-defined parameters which can be given in the parameter file
<li> <code>testParam()</code>: Tests whether the given parameter have reasonable values.
</ul>


<!--<h2>Package Specification</h2>

##### FILL IN ANY SPECS NEEDED BY JAVA COMPATIBILITY KIT #####
<ul>
  <li><a href="">##### REFER TO ANY FRAMEMAKER SPECIFICATION HERE #####</a>
</ul> -->

<h2>Related Documentation</h2>

For PISA-related documentation and downloads, please see:
<ul>
  <li><a href="http://www.tik.ee.ethz.ch/sop/pisa/?page=selvar.php">Download page for PISA-compliant selectors</a>
</ul>

<!-- Put @see and @since tags down here. -->
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../ch/ethz/ee/tik/sop/pisalib/variator/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;NEXT PACKAGE</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?ch/ethz/ee/tik/sop/pisalib/variator/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
